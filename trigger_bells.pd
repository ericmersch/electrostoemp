#N canvas 72 96 1848 984 12;
#X obj 83 206 s bing;
#X floatatom 67 148 5 0 0 0 - - -;
#X obj 53 114 change 1;
#X obj 62 170 expr $f1==0;
#X obj 53 42 ctlin;
#X obj 627 165 vline~;
#X obj 340 390 *~;
#X obj 274 599 dac~;
#N canvas 72 96 1848 984 partials 0;
#X obj 108 6 inlet;
#X obj 51 107 osc~;
#X obj 91 106 osc~;
#X obj 132 104 osc~;
#X obj 175 104 osc~;
#X obj 219 103 osc~;
#X obj 145 277 outlet~;
#X text 238 279 add all the compontents of the signal;
#X obj 291 181 *~ 0.01375;
#X obj 216 179 *~ 0.0068;
#X obj 167 177 *~ 0.5;
#X obj 99 178 *~ 0.09245;
#X obj 27 181 *~ 0.03935;
#X obj 16 63 * 1.8305;
#X obj 79 63 * 4.8375;
#X obj 139 63 * 8.971;
#X obj 205 63 14.155;
#X text 346 61 partials frequency ratios;
#X obj 257 61 * 20.0755;
#X text 385 181 partials relative amplitudes;
#X connect 0 0 18 0;
#X connect 0 0 16 0;
#X connect 0 0 15 0;
#X connect 0 0 14 0;
#X connect 0 0 13 0;
#X connect 1 0 12 0;
#X connect 2 0 11 0;
#X connect 3 0 10 0;
#X connect 4 0 9 0;
#X connect 5 0 8 0;
#X connect 8 0 6 0;
#X connect 9 0 6 0;
#X connect 10 0 6 0;
#X connect 11 0 6 0;
#X connect 12 0 6 0;
#X connect 13 0 1 0;
#X connect 14 0 2 0;
#X connect 15 0 3 0;
#X connect 16 0 4 0;
#X connect 18 0 5 0;
#X restore 339 340 pd partials;
#X obj 341 431 +~;
#X obj 722 442 delread4~ \$0-sammap;
#X obj 728 385 loadbang;
#X obj 711 496 lop~ 800;
#X text 438 328 create a constant tone with the spectrum of a tubular
bell and a fundamental pitch given by the input frequency;
#X text 809 413 delay time;
#X text 772 534 record sample for the delay;
#X text 376 456 add input sound and feedback delay;
#X text 322 602 digital to analog converter for audio output;
#X text 374 400 multiply the constant tone with the envelope;
#X text 818 467 feedback 0 - 1;
#X text 785 497 low pass filter with cut off frequency of 800 Hz;
#X text 808 127 create the envelope of the sound (from 0 to 1 in 20
ms then from 1 to 0 in 1600 ms);
#X text 442 48 for each triggered event;
#X obj 310 177 sel 0 1 2 3 4 5 6;
#X text 637 224 chose a MIDI note at random in the scale from the koshi
chime;
#X text 401 301 convert the MIDI note to a frequency value;
#X obj 346 301 mtof;
#N canvas 72 96 1848 984 no_repeat 0;
#X obj 136 26 inlet;
#X obj 213 101 loadbang;
#X msg 213 140 1;
#X obj 213 183 value old;
#X floatatom 213 238 5 0 0 0 - - -;
#X floatatom 111 237 5 0 0 0 - - -;
#X obj 111 305 expr $i1 == $i2;
#X obj 135 101 until;
#X obj 409 318 outlet;
#X obj 167 361 sel 0;
#X obj 135 140 t b b;
#X obj 136 62 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 407 24 inlet;
#X obj 111 183 random 7;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 6 1;
#X connect 4 0 8 0;
#X connect 5 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 7 0 10 0;
#X connect 9 0 7 1;
#X connect 10 0 13 0;
#X connect 10 1 3 0;
#X connect 11 0 7 0;
#X connect 12 0 13 1;
#X connect 13 0 5 0;
#X restore 310 116 pd no_repeat;
#X obj 343 45 r bing;
#X obj 388 86 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 626 130 0.15 20 \, 0.15 \, 0 1600;
#X msg 727 418 500;
#X obj 587 534 delwrite~ \$0-sammap 1620;
#X obj 737 467 *~ 0.99;
#X msg 328 229 86;
#X msg 372 228 91;
#X msg 411 228 94;
#X msg 455 228 96;
#X msg 491 227 98;
#X msg 522 228 103;
#X msg 559 228 106;
#X msg 592 227 110;
#X obj 52 88 expr $f1>=10;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 4 0 42 0;
#X connect 5 0 6 1;
#X connect 6 0 9 0;
#X connect 8 0 6 0;
#X connect 9 0 7 0;
#X connect 9 0 7 1;
#X connect 9 0 32 0;
#X connect 10 0 33 0;
#X connect 11 0 31 0;
#X connect 12 0 9 1;
#X connect 23 0 34 0;
#X connect 23 1 35 0;
#X connect 23 2 36 0;
#X connect 23 3 37 0;
#X connect 23 4 38 0;
#X connect 23 5 39 0;
#X connect 23 6 40 0;
#X connect 23 7 41 0;
#X connect 26 0 8 0;
#X connect 27 0 23 0;
#X connect 28 0 29 0;
#X connect 29 0 27 0;
#X connect 29 0 30 0;
#X connect 30 0 5 0;
#X connect 31 0 10 0;
#X connect 33 0 12 0;
#X connect 34 0 26 0;
#X connect 35 0 26 0;
#X connect 36 0 26 0;
#X connect 37 0 26 0;
#X connect 38 0 26 0;
#X connect 39 0 26 0;
#X connect 40 0 26 0;
#X connect 41 0 26 0;
#X connect 42 0 2 0;
